@model DHRMVCCore.Models.JefeTerreno

@{
    ViewData["Title"] = "Edit";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AdminLTE 3 | Log in (v2)</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
    <!-- icheck bootstrap -->
    <link rel="stylesheet" href="../../plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dist/css/adminlte.min.css">

</head>
<body>

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="index3.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="#" class="nav-link">Contact</a>
            </li>
        </ul>

        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <!-- Navbar Search -->
            <li class="nav-item">
                <a class="nav-link" data-widget="navbar-search" href="#" role="button">
                    <i class="fas fa-search"></i>
                </a>
                <div class="navbar-search-block">
                    <form class="form-inline">
                        <div class="input-group input-group-sm">
                            <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                            <div class="input-group-append">
                                <button class="btn btn-navbar" type="submit">
                                    <i class="fas fa-search"></i>
                                </button>
                                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </li>

            <!-- Messages Dropdown Menu -->
            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                    <i class="far fa-comments"></i>
                    <span class="badge badge-danger navbar-badge">3</span>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <a href="#" class="dropdown-item">
                        <!-- Message Start -->
                        <div class="media">
                            <img src="dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle">
                            <div class="media-body">
                                <h3 class="dropdown-item-title">
                                    Brad Diesel
                                    <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                                </h3>
                                <p class="text-sm">Call me whenever you can...</p>
                                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                            </div>
                        </div>
                        <!-- Message End -->
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <!-- Message Start -->
                        <div class="media">
                            <img src="dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
                            <div class="media-body">
                                <h3 class="dropdown-item-title">
                                    John Pierce
                                    <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span>
                                </h3>
                                <p class="text-sm">I got your message bro</p>
                                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                            </div>
                        </div>
                        <!-- Message End -->
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <!-- Message Start -->
                        <div class="media">
                            <img src="dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
                            <div class="media-body">
                                <h3 class="dropdown-item-title">
                                    Nora Silvester
                                    <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span>
                                </h3>
                                <p class="text-sm">The subject goes here</p>
                                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                            </div>
                        </div>
                        <!-- Message End -->
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                </div>
            </li>
            <!-- Notifications Dropdown Menu -->
            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                    <i class="far fa-bell"></i>
                    <span class="badge badge-warning navbar-badge">15</span>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <span class="dropdown-item dropdown-header">15 Notifications</span>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-envelope mr-2"></i> 4 new messages
                        <span class="float-right text-muted text-sm">3 mins</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-users mr-2"></i> 8 friend requests
                        <span class="float-right text-muted text-sm">12 hours</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-file mr-2"></i> 3 new reports
                        <span class="float-right text-muted text-sm">2 days</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                    <i class="fas fa-expand-arrows-alt"></i>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-widget="control-sidebar" data-controlsidebar-slide="true" href="#" role="button">
                    <i class="fas fa-th-large"></i>
                </a>
            </li>
        </ul>
    </nav>
    <!-- /.navbar -->
    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Brand Logo -->
        <a asp-controller="Home" asp-action="RedirectToListarActums" class="brand-link">
            <img src="../../dist/img/logo_bravoizquierdo.jpg" alt="DHR" class="brand-image elevation-3" style="opacity: .8">
            <span class="brand-text font-weight-light">DHR</span>
        </a>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Sidebar user panel (optional) -->
            <!-- SidebarSearch Form -->
            <div class="form-inline">
                <div class="input-group" data-widget="sidebar-search">
                    <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
                    <div class="input-group-append">
                        <button class="btn btn-sidebar">
                            <i class="fas fa-search fa-fw"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sidebar Menu -->
            <div class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                    <!-- Add icons to the links using the .nav-icon class
                    with font-awesome or any other icon font library -->
                    <li class="nav-item">
                        <a asp-controller="Home" asp-action="RedirectToListarActums" class="nav-link">
                            <i class="nav-icon fas fa-th"></i>
                            <p>
                                Actas

                            </p>
                        </a>
                    </li>
                    @{
                        var isAdmin3 = Context.User.HasClaim(c => c.Type == "Admin" && c.Value == "True");
                        var isOficinaTecnica3 = Context.User.HasClaim(c => c.Type == "RolIdRol" && c.Value == "2"); // Asumiendo que "2" es el valor para Oficina Técnica
                    }

                    @if (isAdmin3 || isOficinaTecnica3)
                    {
                        <li class="nav-item">
                            <a asp-controller="Home" asp-action="RedirectToListarUsuarios" class="nav-link">
                                <i class="nav-icon fas fa-th"></i>
                                <p>
                                    Perfiles
                                </p>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a asp-controller="Home" asp-action="RedirectToListarRazonSocial" class="nav-link">
                                <i class="nav-icon fas fa-th"></i>
                                <p>
                                    Razones Sociales
                                </p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a asp-controller="Home" asp-action="RedirectToListarObras" class="nav-link">
                                <i class="nav-icon fas fa-th"></i>
                                <p>
                                    Obras
                                </p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a asp-controller="Home" asp-action="RedirectToListarFechaCierre" class="nav-link">
                                <i class="nav-icon fas fa-th"></i>
                                <p>
                                    Calendario
                                </p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a asp-controller="Home" asp-action="RedirectToListarEspecialidad" class="nav-link">
                                <i class="nav-icon fas fa-th"></i>
                                <p>
                                    Especialidades
                                </p>
                            </a>
                        </li>
                    }

                    <li class="nav-item">
                        <a asp-area="" asp-controller="Home" asp-action="Salir" class="nav-link">
                            <i class="nav-icon fas fa-th"></i>
                            <p>
                                Cerrar Session
                            </p>
                        </a>
                    </li>

                </ul>
            </div>
            <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
    </aside>
                    <li class="nav-item">
                        <a asp-area="" asp-controller="Home" asp-action="Salir" class="nav-link">
                            <i class="nav-icon fas fa-th"></i>
                            <p>
                                Cerrar Session
                            </p>
                        </a>
                    </li>

                </ul>
            </nav>
            <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
    </aside>

    <div class="container" style=" margin-left: 20rem;">


        <!-- general form elements disabled -->
        <div class="card card-warning">
            <div class="card-header">
                <h3 class="card-title">Firma Jefe de Terreno</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <img src="../../docs/assets/img/head-acta.png" alt="Descripción de la imagen" class="img-fluid">
              
                    
                    <div class="row">
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <!-- text input -->
                            <div class="form-group">
                                <label class="control-label">OBRA</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.ObraIdObraNavigation.NombreObra)" class="form-control" disabled />
                            </div>
                            <div class="form-group">
                                <label class="control-label">RAZON SOCIAL</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.RazonSocialIdRazonSocialNavigation.NombreRs)" class="form-control" disabled />
                            </div>
                            <div class="form-group">
                                <label class="control-label">ESPECIALIDAD</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.EspecialidadIdEspecialidadNavigation.NombreEsp)" class="form-control" disabled />
                            </div>
                             <div class="form-group">
                                <label class="control-label">FECH. DE PRESENTACION</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.FechaPresentacion)" class="form-control" disabled />
                                
                            </div>

                        </div>
                        <div class="col-sm-6">
                            <!-- text input -->
                            <div class="form-group">
                                <label class="control-label">ESTADO DEL ACTA</label>
                            @{
                                var estadoActaValue = Model.ActaIdActaNavigation.EstadoActa;
                                string borderColor = "";
                                string textColor = "";
                                string texto = "";

                                switch (estadoActaValue)
                                {
                                    case 0:
                                        borderColor = "border: 1px solid yellow;";
                                        textColor = "color: yellow;";
                                        texto = "Proceso";
                                        break;
                                    case 1:
                                        borderColor = "border: 1px solid green;";
                                        textColor = "color: green;";
                                        texto = "Finalizado";
                                        break;
                                    case 2:
                                        borderColor = "border: 1px solid red;";
                                        textColor = "color: red;";
                                        texto = "Expirado";
                                        break;
                                }
                            }

                            <input value="@texto" class="form-control" style="@borderColor @textColor" disabled />


                     
                            </div>


                            <div class="form-group">
                                <label class="control-label">R.U.T</label>
                            <input class="form-control" value="@Html.DisplayFor(model => model.ActaIdActaNavigation.RazonSocialIdRazonSocialNavigation.RutRs)" disabled>
                            </div>
                            <div class="form-group">
                                <label class="control-label">NUM ESTADO DE PAGO</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.NumPago)" class="form-control" disabled />

                            </div>
                            <div class="form-group">
                                <label class="control-label">FECH. ULTIMA ACTUALIZACION</label>
                            <input value="@Html.DisplayFor(model => model.ActaIdActaNavigation.FechaApro)" class="form-control" disabled />

                            </div>
                        
                        </div> 
                    </div>


                    <!-- /.card-body -->

             

            </div>
            <!-- iCheck -->
            <div class="card card-success">
                <div class="card-header">
                    <h3 class="card-title">Formulario JEFE DE TERRENO</h3>
                </div>
                <div class="card-body">
                    <!-- Minimal style -->
                    
                    <div class="row">
                        <div class="col-md-4">
                            <form asp-action="Edit">
                                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                <input type="hidden" asp-for="IdJefeterreno" />
                                <div class="form-group">
                                    <label asp-for="Nombre" hidden class="control-label"></label>
                                    @{
                                        // Obtener el primer nombre y apellido del usuario de los claims
                                        var primerNombre = User.Claims.FirstOrDefault(c => c.Type == "PrimerNombre")?.Value;
                                        var primerApellido = User.Claims.FirstOrDefault(c => c.Type == "PrimerApellido")?.Value;

                                        // Concatenarlos para formar el valor completo
                                        var nombreCompleto = primerNombre + " " + primerApellido;
                                    }
                                    <input asp-for="Nombre" class="form-control" hidden value="@nombreCompleto" />

                                    <span asp-validation-for="Nombre" class="text-danger"></span>
                                </div>
                                <!-- CumPlaSem -->
                                <div style="text-align: right;">
                                    <label style="margin-right: 90px;">SI, NO, N/A</label>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-primary d-inline">
                                                <label for="checkboxPrimary3">
                                                    Asistencia a reuniones de planificación (PAC)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioSecond1" name="CumPlaSem" value="1" @(Model.CumPlaSem == 1 ? "checked" : "")>
                                                <label for="radioSecond1"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioSecond2" name="CumPlaSem" value="2"
                                                       @(Model.CumPlaSem == 2 ? "checked" : "")>
                                                <label for="radioSecond2"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioSecond3" name="CumPlaSem" value="3"
                                                       @(Model.CumPlaSem == 3 ? "checked" : "")>
                                                <label for="radioSecond3"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Para AsiReuPla -->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-primary d-inline">
                                                <label for="checkboxPrimary4">
                                                    Asistencia a reuniones de planificación (PAC)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioThree1" name="AsiReuPla" value="1"
                                                       @(Model.AsiReuPla == 1 ? "checked" : "")>
                                                <label for="radioThree1"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioThree2" name="AsiReuPla" value="2"
                                                       @(Model.AsiReuPla == 2 ? "checked" : "")>
                                                <label for="radioThree2"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioThree3" name="AsiReuPla" value="3"
                                                       @(Model.AsiReuPla == 3 ? "checked" : "")>
                                                <label for="radioThree3"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Para SupPerObra -->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-primary d-inline">
                                                <label for="checkboxPrimary5">
                                                    Supervisor permanente en obra
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFour1" name="SupPerObra" value="1"
                                                       @(Model.SupPerObra == 1 ? "checked" : "")>
                                                <label for="radioFour1"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFour2" name="SupPerObra" value="2"
                                                      @(Model.SupPerObra == 2 ? "checked" : "")>
                                                <label for="radioFour2"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFour3" name="SupPerObra" value="3"
                                                       @(Model.SupPerObra == 3 ? "checked" : "")>
                                                <label for="radioFour3"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Para CumProgGen -->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-primary d-inline">
                                                <label for="checkboxPrimary6">
                                                    Cumplimiento con programa general de obra
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group clearfix">
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFive1" name="CumProgGen" value="1"
                                                       @(Model.CumProgGen == 1 ? "checked" : "")>
                                                <label for="radioFive1"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFive2" name="CumProgGen" value="2"
                                                      @(Model.CumProgGen == 2 ? "checked" : "")>
                                                <label for="radioFive2"></label>
                                            </div>
                                            <div class="icheck-danger d-inline">
                                                <input type="radio" id="radioFive3" name="CumProgGen" value="3"
                                                       @(Model.CumProgGen == 3 ? "checked" : "")>
                                                <label for="radioFive3"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label asp-for="Observacion" class="control-label"></label>
                                    <input asp-for="Observacion" id="Observacion" maxlength="256" class="form-control" />
                                    <span asp-validation-for="Observacion" class="text-danger"></span>
                                </div>
                                <div class="form-group form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" asp-for="Firma" checked hidden /> 
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label asp-for="ActaIdActa" hidden class="control-label"></label>
                                    <select asp-for="ActaIdActa" hidden class="form-control" asp-items="ViewBag.ActaIdActa"></select>
                                    <span asp-validation-for="ActaIdActa" hidden class="text-danger"></span>
                                </div>
@*                                 <div class="form-group">
                                    <input type="submit" value="Save" class="btn btn-primary" />
                                </div> *@

                                <div class="row">
                                    <div class="col-auto">
                                        <input type="submit" value="Firmar" id="submitBtn" class="btn btn-danger btn-lg" />
                                    </div>
                                    <div class="col-auto">
                                        <a asp-controller="Home" asp-action="RedirectToListarActums" class="btn btn-light btn-flat">VOLVER</a>
                                    </div>
                                </div>
                                <!-- Modal -->
                                <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="modalLabel">Confirmar Acción</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                Has marcado en tu formulario "NO" como respuesta a algunos campos, recuerda dejar una obvservacion antes de presionar el boton "GUARDAR" o si desea firmar de todas formas preciona "Confirmar Firma
                                                "
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Volver</button>

                                                <button type="button" class="btn btn-primary" id="saveBtn">Guardar</button>
                                                <button type="button" class="btn btn-danger" id="confirmBtn">Confirmar Firma</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>

                </div>
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>

    <main class="content">

        <!--{% include 'includes/navigation.html' %}-->
        <!--{% block content %}{% endblock content %}-->

        <footer class="main-footer">
            <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Version</b> 3.2.0
            </div>
        </footer>

    </main>

    @section Scripts {
        @{
            await Html.RenderPartialAsync("_ValidationScriptsPartial");
        }
    }

    <!-- Specific Page JS goes HERE  -->
    <!-- jQuery -->
    <script src="plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button)
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Mostrar modal cuando se hace clic en el botón Firmar y el radio button específico está seleccionado.
            $('#submitBtn').click(function (e) {
                e.preventDefault();
                if ($('#radioSecond2').is(':checked') || $('#radioThree2').is(':checked') || $('#radioFour2').is(':checked') || $('#radioFive2').is(':checked')) {
                    $('#confirmModal').modal('show');
                } else {
                    // Aquí puedes manejar el caso en que el radio button no esté seleccionado.
                    // Por ejemplo, enviar el formulario directamente o mostrar un mensaje.
                    $(this).closest('form').submit();
                }
            });

            // Manejar clic en Confirmar Firma.
            $('#confirmBtn').click(function () {
                // Marcar el checkbox de firma.
                $('input[name="Firma"]').prop('checked', true);
                // Enviar el formulario.
                $(this).closest('form').submit();
            });

            // Manejar clic en Guardar.
            $('#saveBtn').click(function (e) {
                // Aquí asumo que tienes un campo de entrada para la observación
                // Debes reemplazar 'inputObservacion' con el ID real de tu campo
                var observacion = $('#Observacion').val().trim();

                if (observacion === '') {
                    // Si el campo de observación está vacío, muestra una alerta y no envía el formulario
                    e.preventDefault(); // Evita que el formulario se envíe
                    Swal.fire({
                        icon: 'error',
                        title: 'Campo Obligatorio',
                        text: 'Debes rellenar el campo de observación!',
                    });
                } else {
                    // Si el campo de observación no está vacío, permite que el formulario se envíe
                    // Desmarcar el checkbox de firma.
                    $('input[name="Firma"]').prop('checked', false);
                    // Enviar el formulario.
                    $(this).closest('form').submit();
                }
            });

            // El botón Volver simplemente cierra el modal.
        });
    </script>

    <!-- Bootstrap 4 -->
    <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="plugins/chart.js/Chart.min.js"></script>
    <!-- Sparkline -->
    <script src="plugins/sparklines/sparkline.js"></script>
    <!-- JQVMap -->
    <script src="plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="plugins/jquery-knob/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="plugins/moment/moment.min.js"></script>
    <script src="plugins/daterangepicker/daterangepicker.js"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <!-- Summernote -->
    <script src="plugins/summernote/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/adminlte.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="dist/js/demo.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="dist/js/pages/dashboard.js"></script>

</body>
</html>
@* 
<h1>Edit</h1>

<h4>JefeTerreno</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="Edit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="IdJefeterreno" />
            <div class="form-group">
                <label asp-for="Nombre" class="control-label"></label>
                <input asp-for="Nombre" class="form-control" />
                <span asp-validation-for="Nombre" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="CumPlaSem" class="control-label"></label>
                <input asp-for="CumPlaSem" class="form-control" />
                <span asp-validation-for="CumPlaSem" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="AsiReuPla" class="control-label"></label>
                <input asp-for="AsiReuPla" class="form-control" />
                <span asp-validation-for="AsiReuPla" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="SupPerObra" class="control-label"></label>
                <input asp-for="SupPerObra" class="form-control" />
                <span asp-validation-for="SupPerObra" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="CumProgGen" class="control-label"></label>
                <input asp-for="CumProgGen" class="form-control" />
                <span asp-validation-for="CumProgGen" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Observacion" class="control-label"></label>
                <input asp-for="Observacion" class="form-control" />
                <span asp-validation-for="Observacion" class="text-danger"></span>
            </div>
            <div class="form-group form-check">
                <label class="form-check-label">
                    <input class="form-check-input" asp-for="Firma" /> @Html.DisplayNameFor(model => model.Firma)
                </label>
            </div>
            <div class="form-group">
                <label asp-for="ActaIdActa" class="control-label"></label>
                <select asp-for="ActaIdActa" class="form-control" asp-items="ViewBag.ActaIdActa"></select>
                <span asp-validation-for="ActaIdActa" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div> *@
